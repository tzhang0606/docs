---
title: 'Campaigns API'
description: 'Create and manage SMS campaigns'
---

## Create Campaign

Launch an SMS campaign using an agent and contact list.

<ParamField body="campaign_id" type="string" required>
  Unique campaign identifier (format: `{timestamp}x{random}`)
</ParamField>

<ParamField body="campaign_name" type="string" required>
  Display name for the campaign
</ParamField>

<ParamField body="organization_id" type="string" required>
  Organization unique_id
</ParamField>

<ParamField body="user_id" type="string" required>
  User unique_id (creator)
</ParamField>

<ParamField body="sms_agent_id" type="string" required>
  SMS agent unique_id to use for conversations
</ParamField>

<ParamField body="signal_house_phone_number" type="string" required>
  Phone number to send from (use organization's `teli_sms_number`)
</ParamField>

<ParamField body="contacts" type="array" required>
  Array of contact objects to message
</ParamField>

<RequestExample>

```bash cURL
curl -X POST https://your-api.modal.run/v1/campaigns \
  -H "X-API-Key: your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "campaign_id": "1763072374x123456789012345678",
    "campaign_name": "November Outreach",
    "organization_id": "1763070568417x...",
    "user_id": "1763072368418x...",
    "sms_agent_id": "1763072369786x...",
    "signal_house_phone_number": "+13135559999",
    "contacts": [
      {
        "phone_number": "+15551234567",
        "first_name": "John",
        "last_name": "Doe"
      }
    ]
  }'
```

```javascript JavaScript
const campaignId = `${Date.now()}x${Math.floor(Math.random() * 1e18)}`;

const response = await fetch('https://your-api.modal.run/v1/campaigns', {
  method: 'POST',
  headers: {
    'X-API-Key': 'your_api_key',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    campaign_id: campaignId,
    campaign_name: 'November Outreach',
    organization_id: orgId,
    user_id: userId,
    sms_agent_id: agentId,
    signal_house_phone_number: '+13135559999',
    contacts: [
      {phone_number: '+15551234567', first_name: 'John'}
    ]
  })
});
```

</RequestExample>

<ResponseExample>

```json 202 Accepted
{
  "success": true,
  "message": "Campaign upload started successfully",
  "campaign_id": "1763072374x123456789012345678",
  "status": "processing",
  "agent": {
    "agent_id": "1763072369786x...",
    "agent_name": "Sales Follow-up Agent"
  },
  "details": {
    "total_contacts": 1,
    "estimated_processing_seconds": 0.1,
    "has_drips": true,
    "voice_transfer_enabled": false
  },
  "powered_by": "Teli"
}
```

```json 400 Error
{
  "error": "sms_agent_id is required - select an AI agent",
  "powered_by": "Teli",
  "success": false
}
```

</ResponseExample>

<Note>
Campaign creation returns **202 Accepted** because processing happens in the background. Contacts are processed within seconds.
</Note>

---

## List Campaigns

Get campaigns for an organization.

<ParamField query="organization_id" path="org_id" type="string" required>
  Organization unique_id
</ParamField>

<ParamField query="user_id" type="string" required>
  User unique_id
</ParamField>

<ParamField query="is_admin" type="boolean" default="false">
  If true, returns all org campaigns. If false, returns only user's campaigns.
</ParamField>

<RequestExample>

```bash cURL
curl -X GET "https://your-api.modal.run/v1/organizations/{org_id}/campaigns?user_id={user_id}&is_admin=true" \
  -H "X-API-Key: your_api_key"
```

</RequestExample>

<ResponseExample>

```json 200 Success
{
  "success": true,
  "count": 5,
  "campaigns": [
    {
      "campaign_id": "1763072374x...",
      "campaign_name": "November Outreach",
      "status": "ACTIVE",
      "total_clients": 25,
      "created_at": "2025-11-13T22:13:00+00:00"
    }
  ],
  "powered_by": "Teli"
}
```

</ResponseExample>

---

## Delete Campaign

Delete a campaign and all associated data.

<ParamField path="campaign_id" type="string" required>
  Campaign unique_id
</ParamField>

<RequestExample>

```bash cURL
curl -X DELETE https://your-api.modal.run/v1/campaigns/{campaign_id} \
  -H "X-API-Key: your_api_key"
```

</RequestExample>

<ResponseExample>

```json 202 Accepted
{
  "success": true,
  "message": "Campaign deletion started",
  "campaign_id": "1763072374x...",
  "status": "processing",
  "powered_by": "Teli"
}
```

</ResponseExample>

<Warning>
Campaign deletion is permanent and cannot be undone. All conversation history will be archived before deletion.
</Warning>

---

## Campaign Status Values

| Status | Description |
|--------|-------------|
| `ACTIVE` | Campaign is running |
| `PAUSED` | Campaign is paused |
| `COMPLETED` | Campaign finished |
| `DELETED` | Campaign deleted |

## Best Practices

<AccordionGroup>
  <Accordion title="Phone Number Requirement">
    Use your organization's `teli_sms_number` (obtained after 10DLC approval) as the `signal_house_phone_number`.
  </Accordion>
  
  <Accordion title="Campaign ID Format">
    Generate campaign IDs using: `{timestamp}x{random_18_digits}`
    
    JavaScript example:
    ```javascript
    const campaignId = `${Date.now()}x${Math.floor(Math.random() * 1e18)}`;
    ```
  </Accordion>
  
  <Accordion title="Contact Validation">
    - All phone numbers must be in E.164 format
    - Invalid numbers will be skipped
    - You'll receive a summary of successful/failed contacts
  </Accordion>
</AccordionGroup>

