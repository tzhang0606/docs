---
title: 'Update Agent'
api: 'PATCH /v1/agents/{agent_id}'
description: 'Update agent configuration - works for both SMS and Voice agents'
---

## Overview

Update an existing agent's configuration including name, prompts, messages, and settings.

<Note>
This endpoint updates **agent properties**. For voice agent **tools** (function calling, transfers, etc.), use [Update Voice Agent Tools](/api-reference/agents/update-tools).
</Note>

---

## Authentication

<ParamField header="X-API-Key" type="string" required>
  Your Teli API key
</ParamField>

---

## Path Parameters

<ParamField path="agent_id" type="string" required>
  The unique identifier of the agent to update
</ParamField>

---

## Request Body

All fields are optional - only send the fields you want to update.

### Common Fields (SMS & Voice)

<ParamField body="agent_name" type="string">
  Updated agent name
</ParamField>

<ParamField body="prompt" type="string">
  Updated AI instructions/system prompt
</ParamField>

<ParamField body="starting_message" type="string">
  Updated first message to user. Supports variables like `{{first_name}}`
</ParamField>

<ParamField body="drip_schedule" type="array">
  Updated drip message sequence (SMS agents only)
</ParamField>

---

## Request Examples

### Update SMS Agent

<CodeGroup>

```bash cURL
curl -X PATCH "https://api.teli.ai/v1/agents/1762896437306x529035742905669631" \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_name": "Updated SMS Agent",
    "starting_message": "Hi {{first_name}}, we have an exciting update for you!",
    "prompt": "You are a friendly sales assistant helping customers discover our products..."
  }'
```

```javascript JavaScript
const response = await fetch('https://api.teli.ai/v1/agents/{agent_id}', {
  method: 'PATCH',
  headers: {
    'X-API-Key': 'YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    agent_name: 'Updated SMS Agent',
    starting_message: 'Hi {{first_name}}, we have an exciting update!',
    prompt: 'You are a friendly sales assistant...'
  })
});

const data = await response.json();
console.log(data);
```

```python Python
import requests

response = requests.patch(
    'https://api.teli.ai/v1/agents/{agent_id}',
    headers={
        'X-API-Key': 'YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    json={
        'agent_name': 'Updated SMS Agent',
        'starting_message': 'Hi {{first_name}}, we have an exciting update!',
        'prompt': 'You are a friendly sales assistant...'
    }
)

print(response.json())
```

</CodeGroup>

---

### Update Voice Agent

<CodeGroup>

```bash cURL
curl -X PATCH "https://api.teli.ai/v1/agents/1763763759612x739630924151608142" \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_name": "Sophie Agent",
    "starting_message": "Hi {{first_name}}, did you want to develop a software for your business?",
    "prompt": "You are Sarah Johnson working for Tech Solutions Inc..."
  }'
```

```bash Link Knowledge Base
curl -X PATCH "https://api.teli.ai/v1/agents/{agent_id}" \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "knowledge_base_ids": ["knowledge_base_7a0682ce5fc02413"],
    "kb_config": {
      "top_k": 3,
      "filter_score": 0.6
    }
  }'
```

```javascript JavaScript
const response = await fetch('https://api.teli.ai/v1/agents/{agent_id}', {
  method: 'PATCH',
  headers: {
    'X-API-Key': 'YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    agent_name: 'Updated Voice Agent',
    starting_message: 'Hello! How can I assist you today?',
    prompt: 'You are a professional customer service representative...'
  })
});
```

```python Python
import requests

response = requests.patch(
    'https://api.teli.ai/v1/agents/{agent_id}',
    headers={'X-API-Key': 'YOUR_API_KEY'},
    json={
        'agent_name': 'Updated Voice Agent',
        'starting_message': 'Hello! How can I assist you?',
        'prompt': 'You are a professional customer service representative...'
    }
)
```

</CodeGroup>

---

### Update Only Name

<CodeGroup>

```json Minimal Update
{
  "agent_name": "New Agent Name"
}
```

</CodeGroup>

---

### Update with Drip Schedule (SMS)

<CodeGroup>

```json SMS Drip Campaign
{
  "agent_name": "Follow-up Campaign",
  "starting_message": "Hi {{first_name}}, thanks for your interest!",
  "prompt": "You are following up with leads...",
  "drip_schedule": [
    {
      "delay_minutes": 1440,
      "message": "Hi {{first_name}}, just following up on our conversation..."
    },
    {
      "delay_minutes": 4320,
      "message": "Hi {{first_name}}, wanted to check if you had any questions..."
    }
  ]
}
```

</CodeGroup>

---

## Response

### Success Response

<ResponseExample>

```json 200 - Success
{
  "success": true,
  "agent_id": "1763490400021x448481236873124087",
  "message": "Agent updated successfully",
  "powered_by": "Teli"
}
```

</ResponseExample>

<ResponseField name="success" type="boolean">
  Indicates successful update
</ResponseField>

<ResponseField name="agent_id" type="string">
  The updated agent's unique identifier
</ResponseField>

<ResponseField name="message" type="string">
  Success message
</ResponseField>

<ResponseField name="powered_by" type="string">
  Platform identifier ("Teli")
</ResponseField>

---

### Error Responses

<ResponseExample>

```json 404 - Agent Not Found
{
  "error": "Agent not found",
  "success": false,
  "powered_by": "Teli"
}
```

```json 400 - Validation Error
{
  "error": "Invalid agent configuration",
  "success": false,
  "powered_by": "Teli"
}
```

```json 500 - Update Failed
{
  "error": "Failed to update agent",
  "success": false,
  "powered_by": "Teli"
}
```

</ResponseExample>

---

## Common Update Scenarios

### Scenario 1: Improve Agent Prompt

Update the AI instructions to better handle specific scenarios:

```json
{
  "prompt": "You are a sales assistant. When customers ask about pricing, provide accurate quotes. If they express budget concerns, offer flexible payment options. Always be professional and helpful."
}
```

---

### Scenario 2: Change Starting Message

Update the first message users receive:

```json
{
  "starting_message": "Hi {{first_name}}! Thanks for reaching out. How can I help you today?"
}
```

---

### Scenario 3: Rebrand Agent

Update name and messaging for rebranding:

```json
{
  "agent_name": "New Brand Support Bot",
  "starting_message": "Welcome to New Brand! How can we assist you?",
  "prompt": "You represent New Brand, a leading provider of..."
}
```

---

### Scenario 4: Update SMS Drip Sequence

Modify follow-up message timing and content:

```json
{
  "drip_schedule": [
    {
      "delay_minutes": 60,
      "message": "Quick follow-up {{first_name}}..."
    },
    {
      "delay_minutes": 1440,
      "message": "Checking in {{first_name}}..."
    }
  ]
}
```

---

## Dynamic Variables

Use dynamic variables in messages for personalization:

**Common variables:**
- `{{first_name}}` - Customer's first name
- `{{last_name}}` - Customer's last name
- `{{phone_number}}` - Customer's phone
- `{{email}}` - Customer's email
- `{{company}}` - Company name
- Custom variables from conversation

**Example:**
```json
{
  "starting_message": "Hi {{first_name}} from {{company}}! Ready to discuss your software needs?"
}
```

---

## Best Practices

<Check>
**Test changes**: Test updated agents before deploying to production campaigns
</Check>

<Check>
**Iterate gradually**: Update one field at a time to see impact
</Check>

<Check>
**Keep prompts focused**: Clear, concise instructions work best
</Check>

<Check>
**Use variables**: Personalize messages with {{first_name}} and other variables
</Check>

<Check>
**Version control**: Keep copies of working prompts before major changes
</Check>

---

## Limitations

<Warning>
- **Agent type cannot be changed** - Cannot convert SMS agent to Voice or vice versa
- **Drip schedules** - Only apply to SMS agents
- **Tools** - Must use `/tools` endpoint (voice agents only)
</Warning>

---

## Related Endpoints

- [Create Agent](/api-reference/agents/create) - Create new SMS or Voice agent
- [Get Agent](/api-reference/agents/get) - Retrieve agent configuration
- [Update Voice Agent Tools](/api-reference/agents/update-tools) - Manage voice agent tools
- [List Agents](/api-reference/agents/list) - List all agents
- [Delete Agent](/api-reference/agents/delete) - Delete an agent

---

## Voice Agent Advanced Features

<Info>
**For Voice Agent Tools**: To update function calling, transfers, API integrations, and other tools, use the dedicated [Update Voice Agent Tools](/api-reference/agents/update-tools) endpoint.

Voice agent tools include:
- End Call, Transfer Call, Custom API Integration
- Calendar Integration (Cal.com)
- Agent Transfer, Send SMS, Extract Variables
- And more!

See the [tools documentation](/api-reference/agents/update-tools) for complete details.
</Info>

<Info>
**For Knowledge Bases**: Link knowledge bases to enhance voice agents with URLs, documents, and custom knowledge.

Update `knowledge_base_ids` to link/unlink knowledge bases. Configure retrieval settings via `kb_config`.

See [Create Knowledge Base](/api-reference/knowledge-bases/create) to create KBs first.
</Info>

---

## Support

Need help updating agents?
- View [agent creation guide](/api-reference/agents/create) for parameter reference
- Check [tools documentation](/api-reference/agents/update-tools) for voice capabilities
- Contact Teli support for advanced configurations

---

**Update your agents easily with this endpoint!** ðŸš€
