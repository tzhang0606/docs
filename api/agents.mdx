---
title: 'SMS Agents API'
description: 'Create and manage reusable AI conversation agents'
---

## What are SMS Agents?

SMS Agents are reusable AI conversation templates that you can use across multiple campaigns. Create once, use everywhere!

<Info>
**Cost Savings**: SMS agents have no additional charges beyond standard SMS costs.
Voice agents (coming soon) will have voice call charges.
</Info>

---

## Create SMS Agent

<ParamField body="agent_type" type="string" required>
  Agent type: `sms` or `voice`
</ParamField>

<ParamField body="agent_name" type="string" required>
  Display name for the agent
</ParamField>

<ParamField body="starting_message" type="string" required>
  First message sent to contacts. Use `{{first_name}}` and `{{last_name}}` for personalization.
</ParamField>

<ParamField body="prompt" type="string" required>
  AI behavior instructions (how the agent should respond)
</ParamField>

<ParamField body="organization_id" type="string" required>
  Organization unique_id
</ParamField>

<ParamField body="user_id" type="string" required>
  User unique_id (creator)
</ParamField>

<ParamField body="drip_schedule" type="array">
  Optional automated follow-up messages
</ParamField>

<RequestExample>

```bash cURL
curl -X POST https://your-api.modal.run/v1/agents \
  -H "X-API-Key: your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_type": "sms",
    "agent_name": "Sales Follow-up Agent",
    "starting_message": "Hi {{first_name}}, are you still interested in our services?",
    "prompt": "You are a helpful sales agent. Ask about their budget and timeline.",
    "organization_id": "1763070568417x...",
    "user_id": "1763072368418x...",
    "drip_schedule": [
      {"day": 1, "message": "Just checking in! Any questions?"},
      {"day": 3, "message": "Happy to help when you'\''re ready!"}
    ]
  }'
```

```javascript JavaScript
const response = await fetch('https://your-api.modal.run/v1/agents', {
  method: 'POST',
  headers: {
    'X-API-Key': 'your_api_key',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    agent_type: 'sms',
    agent_name: 'Sales Follow-up Agent',
    starting_message: 'Hi {{first_name}}, interested in our services?',
    prompt: 'You are a helpful sales agent.',
    organization_id: orgId,
    user_id: userId
  })
});
```

</RequestExample>

<ResponseExample>

```json 200 Success
{
  "success": true,
  "agent_id": "1763072369786x980265710064263640",
  "agent_type": "sms",
  "agent_name": "Sales Follow-up Agent",
  "has_drip_schedule": true,
  "organization_id": "1763072364720x...",
  "created_by": "1763072368418x...",
  "message": "SMS agent created successfully (no Teli_Voice_AI charges!)",
  "powered_by": "Teli"
}
```

```json 400 Error
{
  "error": "agent_name, organization_id, and user_id are required",
  "powered_by": "Teli",
  "success": false
}
```

</ResponseExample>

---

## List Agents

Get all agents accessible to a user.

<ParamField query="organization_id" type="string" required>
  Organization unique_id
</ParamField>

<ParamField query="user_id" type="string" required>
  User unique_id
</ParamField>

<ParamField query="is_admin" type="boolean" default="false">
  If true, returns all org agents. If false, returns only user's agents.
</ParamField>

<ParamField query="agent_type" type="string">
  Filter by type: `sms` or `voice`
</ParamField>

<RequestExample>

```bash cURL
curl -X GET "https://your-api.modal.run/v1/agents?organization_id={org_id}&user_id={user_id}&is_admin=true" \
  -H "X-API-Key: your_api_key"
```

</RequestExample>

<ResponseExample>

```json 200 Success
{
  "success": true,
  "count": 2,
  "agents": [
    {
      "agent_id": "1763072369786x...",
      "agent_name": "Sales Follow-up Agent",
      "agent_type": "sms",
      "starting_message": "Hi {{first_name}}...",
      "general_prompt": "You are a helpful sales agent.",
      "drip_schedule": [
        {"day": 1, "message": "Follow up 1"},
        {"day": 3, "message": "Follow up 2"}
      ],
      "drip_start_datetime": "2025-11-13T22:19:29.786930+00:00",
      "created_at": "2025-11-13T22:19:29.97202"
    }
  ],
  "powered_by": "Teli"
}
```

</ResponseExample>

---

## Get Agent

Get details of a specific agent.

<ParamField path="agent_id" type="string" required>
  Agent unique_id
</ParamField>

<RequestExample>

```bash cURL
curl -X GET https://your-api.modal.run/v1/agents/{agent_id} \
  -H "X-API-Key: your_api_key"
```

</RequestExample>

<ResponseExample>

```json 200 Success
{
  "success": true,
  "agent": {
    "agent_id": "1763072369786x...",
    "agent_name": "Sales Follow-up Agent",
    "agent_type": "sms",
    "general_prompt": "You are a helpful sales agent.",
    "greeting_prompt": "Hi {{first_name}}...",
    "drip_schedule": null,
    "created_at": "2025-11-13T22:19:29.97202"
  },
  "powered_by": "Teli"
}
```

```json 404 Error
{
  "error": "Agent not found",
  "powered_by": "Teli",
  "success": false
}
```

</ResponseExample>

---

## Update Agent

Update agent properties.

<ParamField path="agent_id" type="string" required>
  Agent unique_id
</ParamField>

<ParamField body="agent_name" type="string">
  New agent name
</ParamField>

<ParamField body="starting_message" type="string">
  Updated starting message
</ParamField>

<ParamField body="prompt" type="string">
  Updated AI instructions
</ParamField>

<ParamField body="drip_schedule" type="array">
  Updated drip messages
</ParamField>

<RequestExample>

```bash cURL
curl -X PATCH https://your-api.modal.run/v1/agents/{agent_id} \
  -H "X-API-Key: your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_name": "Updated Sales Agent"
  }'
```

</RequestExample>

<ResponseExample>

```json 200 Success
{
  "success": true,
  "agent_id": "1763072369786x...",
  "message": "Agent updated successfully",
  "powered_by": "Teli"
}
```

</ResponseExample>

---

## Delete Agent

Soft-delete an agent (marks as inactive).

<ParamField path="agent_id" type="string" required>
  Agent unique_id
</ParamField>

<RequestExample>

```bash cURL
curl -X DELETE https://your-api.modal.run/v1/agents/{agent_id} \
  -H "X-API-Key: your_api_key"
```

</RequestExample>

<ResponseExample>

```json 200 Success
{
  "success": true,
  "message": "Agent deleted successfully",
  "agent_id": "1763072369786x...",
  "powered_by": "Teli"
}
```

</ResponseExample>

---

## Drip Schedule Format

Automated follow-up messages sent after specific delays:

```json
[
  {
    "day": 1,
    "message": "Just checking in from yesterday!"
  },
  {
    "day": 3,
    "message": "Still here if you need anything!"
  },
  {
    "day": 7,
    "message": "Final follow-up. Happy to help anytime!"
  }
]
```

- `day`: Days after initial message
- `message`: Follow-up text (supports `{{first_name}}`, `{{last_name}}`)

<Note>
When you update `drip_schedule`, the `drip_start_datetime` is automatically set to the current time.
</Note>

