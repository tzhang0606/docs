---
title: 'Create Voice Agent'
api: 'POST /v1/agents'
description: 'Create a reusable Voice conversation agent with advanced tuning options'
---

Create a Voice agent for AI-powered phone calls. Voice agents support extensive customization for natural conversations.

<Info>
Voice agents are billed per second of call time. Voicemail detection is enabled by default.
</Info>

## Authorizations

<ParamField header="X-API-Key" type="string" required>
  Authentication header containing your API key.
</ParamField>

---

## Required Fields

<ParamField body="agent_type" type="string" required>
  Must be `"voice"` for voice agents.
</ParamField>

<ParamField body="agent_name" type="string" required>
  Display name for the agent.
  
  Example: `"Sales Call Agent"`
</ParamField>

<ParamField body="starting_message" type="string" required>
  First message spoken when call connects. Supports variables: `{{first_name}}`, `{{last_name}}`
  
  Example: `"Hi {{first_name}}, this is Sarah calling about your inquiry. Do you have a moment to chat?"`
</ParamField>

<ParamField body="prompt" type="string" required>
  AI behavior instructions. Define personality, goals, and conversation flow.
  
  Example:
  ```
  You are a friendly sales agent for Acme Corp.
  
  ## Your Goals
  - Qualify leads by asking about their needs
  - Collect their budget and timeline
  - Schedule a follow-up call if interested
  
  ## Guidelines
  - Be conversational and friendly
  - Don't be pushy
  - If they're not interested, thank them and end politely
  ```
</ParamField>

<ParamField body="organization_id" type="string" required>
  Organization unique_id.
</ParamField>

<ParamField body="user_id" type="string" required>
  User unique_id (agent creator).
</ParamField>

<ParamField body="voice_id" type="string" required>
  Voice ID for text-to-speech. Get available voices from [List Voices](/partner-api/voices/list).
  
  Popular options:
  - `"11labs-Adrian"` - Male, American
  - `"11labs-Rachel"` - Female, American
  - `"openai-Alloy"` - Neutral, fast
  
  Example: `"11labs-Adrian"`
</ParamField>

---

## Language Settings

<ParamField body="language" type="string" default="en-US">
  Language for speech recognition. Options:
  
  | Code | Language |
  |------|----------|
  | `en-US` | English (US) |
  | `en-GB` | English (UK) |
  | `es-ES` | Spanish (Spain) |
  | `es-419` | Spanish (Latin America) |
  | `fr-FR` | French |
  | `de-DE` | German |
  | `ja-JP` | Japanese |
  | `zh-CN` | Chinese |
  | `multi` | Multilingual |
</ParamField>

---

## Voice Tuning

Fine-tune how the agent sounds and responds.

<ParamField body="voice_temperature" type="number" default="1">
  Voice stability. Range: `0` (stable) to `2` (varied).
  
  - `0`: Very consistent, robotic
  - `1`: Balanced (default)
  - `2`: More expressive, varied
</ParamField>

<ParamField body="voice_speed" type="number" default="1">
  Speech rate. Range: `0.5` (slow) to `2` (fast).
  
  - `0.5`: Very slow
  - `1`: Normal speed (default)
  - `2`: Very fast
</ParamField>

<ParamField body="volume" type="number" default="1">
  Agent volume. Range: `0` (quiet) to `2` (loud).
</ParamField>

<ParamField body="responsiveness" type="number" default="1">
  How quickly agent responds. Range: `0` (slower) to `1` (faster).
  
  - `0`: Wait longer before responding
  - `1`: Respond immediately when possible
</ParamField>

<ParamField body="interruption_sensitivity" type="number" default="1">
  How easily user can interrupt. Range: `0` to `1`.
  
  - `0`: Agent is hard to interrupt
  - `1`: Agent is easy to interrupt
</ParamField>

---

## Ambient Sound

Add background audio for realism.

<ParamField body="ambient_sound" type="string">
  Background ambience. Options:
  
  | Value | Description |
  |-------|-------------|
  | `null` | No ambient sound |
  | `"coffee-shop"` | Café atmosphere |
  | `"convention-hall"` | Echo, crowd noise |
  | `"summer-outdoor"` | Cicadas, nature |
  | `"mountain-outdoor"` | Birds, wind |
  | `"static-noise"` | Light static |
  | `"call-center"` | Office background |
</ParamField>

<ParamField body="ambient_sound_volume" type="number" default="1">
  Ambient sound level. Range: `0` to `2`.
</ParamField>

---

## Backchannel

Enable conversational acknowledgments like "yeah", "uh-huh" during user speech.

<ParamField body="enable_backchannel" type="boolean" default="false">
  Enable conversational interjections.
</ParamField>

<ParamField body="backchannel_frequency" type="number" default="0.8">
  How often to interject. Range: `0` (rarely) to `1` (frequently).
</ParamField>

<ParamField body="backchannel_words" type="array">
  Custom words to use. Comma-separated.
  
  Default: `["yeah", "uh-huh"]`
  
  Example: `["right", "I see", "got it"]`
</ParamField>

---

## Voicemail Detection

<ParamField body="enable_voicemail_detection" type="boolean" default="true">
  Automatically detect voicemail. **Enabled by default** for outbound campaigns.
</ParamField>

<ParamField body="voicemail_detection_timeout_ms" type="number" default="30000">
  Time to wait for detection (milliseconds). Default: 30 seconds.
  
  Range: `5000` (5s) to `180000` (3 min)
</ParamField>

<ParamField body="voicemail_message" type="string">
  Message to leave on voicemail. If empty, call hangs up when voicemail is detected.
  
  Example: `"Hi {{first_name}}, this is Sarah from Acme Corp. Please call us back at 555-1234."`
</ParamField>

---

## Reminder Settings

What happens when user goes silent.

<ParamField body="reminder_trigger_ms" type="number" default="10000">
  Time (ms) to wait before reminding silent user. Default: 10 seconds.
</ParamField>

<ParamField body="reminder_max_count" type="number" default="1">
  Max reminders before ending call. Set to `0` to disable.
</ParamField>

<ParamField body="end_call_after_silence_ms" type="number" default="90000">
  End call after this much silence (ms). Default: 90 seconds (1.5 min).
  
  Minimum: `10000` (10s)
</ParamField>

---

## Call Settings

<ParamField body="max_call_duration_ms" type="number" default="3600000">
  Maximum call length (ms). Default: 1 hour.
  
  Range: `60000` (1 min) to `7200000` (2 hours)
</ParamField>

<ParamField body="begin_message_delay_ms" type="number" default="0">
  Delay before speaking (ms). Gives user time to say "hello".
  
  Range: `0` to `5000`
</ParamField>

<ParamField body="ring_duration_ms" type="number" default="30000">
  Ring timeout for outbound calls (ms). Default: 30 seconds.
</ParamField>

---

## Speech Recognition

<ParamField body="stt_mode" type="string" default="fast">
  Speech-to-text mode:
  
  - `"fast"`: Lower latency, good accuracy
  - `"accurate"`: Higher accuracy, more latency
</ParamField>

<ParamField body="vocab_specialization" type="string" default="general">
  Vocabulary focus:
  
  - `"general"`: General conversations
  - `"medical"`: Medical terminology
</ParamField>

<ParamField body="boosted_keywords" type="array">
  Words to boost recognition for (brand names, product names).
  
  Example: `["Acme", "TurboWidget", "ProPlan"]`
</ParamField>

<ParamField body="normalize_for_speech" type="boolean" default="false">
  Convert numbers/dates to spoken form. E.g., "2024" → "twenty twenty-four"
</ParamField>

---

## Advanced Settings

<ParamField body="allow_user_dtmf" type="boolean" default="true">
  Allow keypad input (press 1, press 2, etc.)
</ParamField>

<ParamField body="denoising_mode" type="string" default="noise-cancellation">
  Audio cleanup:
  
  - `"noise-cancellation"`: Filter background noise
  - `"noise-and-background-speech-cancellation"`: Also filter other voices
</ParamField>

<ParamField body="data_storage_setting" type="string" default="everything">
  What to store:
  
  - `"everything"`: Full transcripts, recordings, logs
  - `"everything_except_pii"`: Scrub PII before storing
  - `"basic_attributes_only"`: No transcripts/recordings
</ParamField>

---

## Knowledge Base Integration

<ParamField body="knowledge_base_ids" type="array">
  Link knowledge bases for RAG retrieval during calls.
  
  Example: `["kb_7a0682ce5fc02413"]`
</ParamField>

<ParamField body="kb_config" type="object">
  Knowledge base settings:
  
  ```json
  {
    "top_k": 3,           // Chunks to retrieve (1-10)
    "filter_score": 0.6   // Similarity threshold (0-1)
  }
  ```
</ParamField>

---

## Tools / Function Calling

<ParamField body="general_tools" type="array">
  Tools for function calling during calls. See [Update Agent Tools](/partner-api/agents/update-tools).
  
  Types: `end_call`, `transfer_call`, `custom` (webhook)
</ParamField>

---

<RequestExample>

```bash Basic Voice Agent
curl -X POST https://api.teli.ai/v1/agents \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_type": "voice",
    "agent_name": "Sales Agent",
    "starting_message": "Hi {{first_name}}, this is Sarah calling about your inquiry.",
    "prompt": "You are a friendly sales agent. Ask about their needs and budget.",
    "organization_id": "1762896364768x389173798861431550",
    "user_id": "1762896366429x599348279945132448",
    "voice_id": "11labs-Adrian",
    "language": "en-US"
  }'
```

```bash Tuned Voice Agent
curl -X POST https://api.teli.ai/v1/agents \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_type": "voice",
    "agent_name": "Customer Support",
    "starting_message": "Hi {{first_name}}, thank you for calling support.",
    "prompt": "You are a patient and helpful support agent.",
    "organization_id": "1762896364768x389173798861431550",
    "user_id": "1762896366429x599348279945132448",
    "voice_id": "11labs-Rachel",
    "language": "en-US",
    "voice_speed": 0.9,
    "voice_temperature": 0.8,
    "responsiveness": 0.7,
    "interruption_sensitivity": 0.8,
    "enable_backchannel": true,
    "backchannel_frequency": 0.6,
    "ambient_sound": "call-center",
    "ambient_sound_volume": 0.3,
    "reminder_trigger_ms": 15000,
    "reminder_max_count": 2,
    "voicemail_message": "Hi, this is support. Please call us back."
  }'
```

```bash With Knowledge Base
curl -X POST https://api.teli.ai/v1/agents \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_type": "voice",
    "agent_name": "Product Expert",
    "starting_message": "Hi {{first_name}}, I can answer any questions about our products.",
    "prompt": "You are a product expert. Use the knowledge base to answer questions accurately.",
    "organization_id": "1762896364768x389173798861431550",
    "user_id": "1762896366429x599348279945132448",
    "voice_id": "11labs-Adrian",
    "knowledge_base_ids": ["kb_7a0682ce5fc02413"],
    "kb_config": {
      "top_k": 5,
      "filter_score": 0.7
    },
    "boosted_keywords": ["TurboWidget", "ProPlan", "Enterprise"]
  }'
```

```javascript JavaScript
const response = await fetch('https://api.teli.ai/v1/agents', {
  method: 'POST',
  headers: {
    'X-API-Key': 'YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    agent_type: 'voice',
    agent_name: 'Sales Agent',
    starting_message: 'Hi {{first_name}}, this is Sarah calling.',
    prompt: 'You are a friendly sales agent.',
    organization_id: '1762896364768x389173798861431550',
    user_id: '1762896366429x599348279945132448',
    voice_id: '11labs-Adrian',
    language: 'en-US',
    voice_speed: 1,
    voice_temperature: 1,
    enable_backchannel: true,
    voicemail_message: 'Hi, please call us back at your convenience.'
  })
});

const data = await response.json();
console.log(data.agent_id);
```

</RequestExample>

<ResponseExample>

```json 201 Success
{
  "success": true,
  "agent_id": "1763500416653x437043850941191495",
  "unique_id": "1763500417669x523666197914196602",
  "agent_type": "voice",
  "agent_name": "Sales Agent",
  "voice_agent_id": "agent_86f826bf8f59bacd5c10ae948a",
  "voice_llm_id": "llm_768537625c23c0da51a0c10861e0",
  "voice_id": "11labs-Adrian",
  "organization_id": "1762896364768x389173798861431550",
  "user_id": "1762896366429x599348279945132448",
  "message": "Voice agent created successfully",
  "powered_by": "Teli"
}
```

```json 400 Missing Voice ID
{
  "error": "voice_id is required for voice agents",
  "success": false,
  "powered_by": "Teli"
}
```

```json 500 Creation Failed
{
  "error": "Failed to create voice agent - please check configuration",
  "success": false,
  "powered_by": "Teli"
}
```

</ResponseExample>

## Response Fields

<ResponseField name="agent_id" type="string">
  Agent identifier. Use this when creating voice campaigns.
</ResponseField>

<ResponseField name="voice_agent_id" type="string">
  Internal voice agent ID.
</ResponseField>

<ResponseField name="voice_llm_id" type="string">
  Internal LLM configuration ID.
</ResponseField>

<ResponseField name="voice_id" type="string">
  Configured voice ID.
</ResponseField>

---

## Recommended Defaults for Use Cases

### Cold Calling / Sales
```json
{
  "voice_speed": 1,
  "voice_temperature": 1,
  "responsiveness": 0.8,
  "interruption_sensitivity": 0.7,
  "enable_backchannel": true,
  "voicemail_message": "Hi, this is [Name] from [Company]. Please call us back."
}
```

### Customer Support
```json
{
  "voice_speed": 0.9,
  "voice_temperature": 0.8,
  "responsiveness": 0.6,
  "interruption_sensitivity": 0.9,
  "enable_backchannel": true,
  "backchannel_frequency": 0.7,
  "ambient_sound": "call-center",
  "reminder_max_count": 3
}
```

### Appointment Reminders
```json
{
  "voice_speed": 1.1,
  "voice_temperature": 0.5,
  "responsiveness": 1,
  "max_call_duration_ms": 300000,
  "voicemail_message": "Hi {{first_name}}, this is a reminder about your appointment."
}
```

## Next Steps

1. [List Voices](/partner-api/voices/list) - Browse available voices
2. [Create Knowledge Base](/partner-api/knowledge-bases/create) - Add RAG support
3. [Create Voice Campaign](/partner-api/voice-campaigns/create) - Launch calls

